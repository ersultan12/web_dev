{"ast":null,"code":"import { products } from '../products';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nfunction ProductListComponent_div_2_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Description: \", product_r1.description, \" \");\n  }\n}\nfunction ProductListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h3\")(2, \"a\", 2);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(4, \"img\", 3);\n    i0.ɵɵtemplate(5, ProductListComponent_div_2_p_5_Template, 2, 1, \"p\", 4);\n    i0.ɵɵelementStart(6, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_div_2_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.share(product_r1.name, product_r1.url));\n    });\n    i0.ɵɵtext(7, \" Share \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate2(\"routerLink\", \"/categories/\", product_r1.categoryName, \"/products//\", product_r1.id, \"\");\n    i0.ɵɵproperty(\"title\", product_r1.name + \" details\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r1.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", product_r1.img_url[0], i0.ɵɵsanitizeUrl)(\"alt\", product_r1.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.description);\n  }\n}\nexport class ProductListComponent {\n  constructor(route) {\n    this.route = route;\n  }\n  share(name, url) {\n    window.open(`https://t.me/share/url?url=${url}&text=${name}`);\n  }\n  ngOnInit() {\n    // First get the product id from the current route.\n    const routeParams = this.route.snapshot.paramMap;\n    const productCategory = String(routeParams.get('name'));\n    //console.log(productCategory)\n    // Find the product that correspond with the id provided in route.\n    this.products = products.filter(product => product.categoryName === productCategory);\n    //console.log(productIdFromRoute)\n    //console.log(this.products)\n  }\n}\n\nProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n  return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nProductListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductListComponent,\n  selectors: [[\"app-product-list\"]],\n  decls: 3,\n  vars: 1,\n  consts: [[\"class\", \"item \", 4, \"ngFor\", \"ngForOf\"], [1, \"item\"], [3, \"title\", \"routerLink\"], [\"width\", \"300px\", 3, \"src\", \"alt\"], [\"class\", \"description\", 4, \"ngIf\"], [\"type\", \"button\", 3, \"click\"], [1, \"description\"]],\n  template: function ProductListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ProductListComponent_div_2_Template, 8, 7, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAGA,SAAkBA,QAAQ,QAAO,aAAa;;;;;ICa5CC,4BAAmD;IACjDA,YACF;IAAAA,iBAAI;;;;IADFA,eACF;IADEA,oEACF;;;;;;IAhBFA,8BAAoD;IAQ9CA,YACF;IAAAA,iBAAI;IAGNA,yBAAmE;IAEnEA,uEAEI;IAEFA,iCAAiE;IAA3CA;MAAA;MAAA;MAAA;MAAA,OAASA,4DAAgC;IAAA,EAAC;IAC5DA,uBACJ;IAAAA,iBAAS;;;;IAdTA,eAA0E;IAA1EA,kHAA0E;IAD1EA,oDAAmC;IAGjCA,eACF;IADEA,gDACF;IAGGA,eAA0B;IAA1BA,6DAA0B;IAE3BA,eAAyB;IAAzBA,6CAAyB;;;ADL/B,OAAM,MAAOC,oBAAoB;EAE/BC,YACUC,KAAqB;IAArB,UAAK,GAALA,KAAK;EACZ;EAIHC,KAAK,CAACC,IAAY,EAAEC,GAAW;IAC7BC,MAAM,CAACC,IAAI,CAAC,8BAA8BF,GAAG,SAASD,IAAI,EAAE,CAAC;EAC/D;EAEAI,QAAQ;IACN;IACA,MAAMC,WAAW,GAAG,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAACC,QAAQ;IAChD,MAAMC,eAAe,GAAGC,MAAM,CAACJ,WAAW,CAACK,GAAG,CAAC,MAAM,CAAC,CAAC;IACvD;IAEA;IACA,IAAI,CAAChB,QAAQ,GAAGA,QAAQ,CAACiB,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACC,YAAY,KAAKL,eAAe,CAAC;IACpF;IACA;EACF;;;AAtBWZ,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXjCvB,0BAAI;MAAAA,wBAAQ;MAAAA,iBAAK;MAEjBA,qEAqBM;;;MArBmBA,eAAW;MAAXA,sCAAW","names":["products","i0","ProductListComponent","constructor","route","share","name","url","window","open","ngOnInit","routeParams","snapshot","paramMap","productCategory","String","get","filter","product","categoryName","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\erser\\Documents\\Work\\web-dev\\lab5\\src\\app\\product-list\\product-list.component.ts","C:\\Users\\erser\\Documents\\Work\\web-dev\\lab5\\src\\app\\product-list\\product-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { Product, products} from '../products';\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})\n\nexport class ProductListComponent implements OnInit {\n\n  constructor(\n    private route: ActivatedRoute,\n  ) {}\n\n  products?: Product[];\n\n  share(name: string, url: string) {\n    window.open(`https://t.me/share/url?url=${url}&text=${name}`)\n  }\n\n  ngOnInit() {\n    // First get the product id from the current route.\n    const routeParams = this.route.snapshot.paramMap;\n    const productCategory = String(routeParams.get('name'));\n    //console.log(productCategory)\n  \n    // Find the product that correspond with the id provided in route.\n    this.products = products.filter(product => product.categoryName === productCategory);\n    //console.log(productIdFromRoute)\n    //console.log(this.products)\n  }\n}\n","<h2>Products</h2>\n\n<div *ngFor=\"let product of products\" class=\"item \">\n\n  <h3>\n    <!-- [href]=\"product.url\" target=\"_blank\" -->\n    <a\n    [title]=\"product.name + ' details'\"\n    routerLink=\"/categories/{{product.categoryName}}/products//{{product.id}}\"\n    >\n      {{ product.name }}\n    </a>\n  </h3>\n\n  <img [src]=\"product.img_url[0]\" [alt]=\"product.name\" width=\"300px\">\n\n  <p *ngIf=\"product.description\" class=\"description\">\n    Description: {{ product.description }}\n  </p>\n\n    <button type=\"button\" (click)=\"share(product.name, product.url)\">\n        Share\n    </button>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}